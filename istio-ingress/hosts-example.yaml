# Additional hosts and ports to add to the gateway
# Configure using --values myhosts.yaml

# This file can be used to expose Istio internal components - you should
# create your own file, with the specific list of ports to expose.

# All certificates for TLS are expected to be present in the 'certs' secret,
# matching the hostname.

# TODO: support a wildcard cert
# wildcardCert: example.com

domain: istio.webinf.info

hosts:
  - name: prom
    port: 9090
    dest: prometheus.istio-telemetry.svc.cluster.local

  - name: grafana
    dest: grafana.istio-telemetry.svc.cluster.local
    port: 3000

  - name: sg
    dest: servicegraph.istio-telemetry.svc.cluster.local
    port: 8088

  - name: tracing
    dest: tracing.istio-telemetry.svc.cluster.local
    port: 80

  # Old 1.0 version of prometheus - collects data from 1.0 mixer
  - name: prom10
    dest: prometheus.istio-system.svc.cluster.local
    port: 9090

  # 1.0 version of grafana in istio-system
  - name: grafana10
    dest: grafana.istio-system.svc.cluster.local
    port: 3000

  - name: trace
    dest: tracing.istio-system.svc.cluster.local
    port: 80

  - name: istio-pilot
    dest: istio-pilot.istio-pilot11.svc.cluster.local
    port: 15011

  # External domains pointing to pilot debug port
  - name: pilot
    dest: istio-pilot.istio-pilot11.svc.cluster.local
    port: 8080

  - name: pilot104
    dest: istio-pilot.istio-pilot10.svc.cluster.local
    port: 8080

  - name: pilot10
    dest: istio-pilot.istio-system.svc.cluster.local
    port: 8080

  - name: fortio11
    dest: fortiotls.fortio11.svc.cluster.local
    port: 8080

  # In progress.
  tcp:
  - port: 8000
    name: tcp-iperf3


